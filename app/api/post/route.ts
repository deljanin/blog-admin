import { db } from '@/lib/drizzle/drizzleClient';
import { post } from '@/lib/drizzle/schema';
import { NextResponse } from 'next/server';

export async function POST(request: Request) {
  const { title, content, description, topicId, threadId, slug } =
    await request.json();

  const newTopic = await db
    .insert(post)
    .values({ title, content, description, topicId, embedding, threadId, slug })
    .returning();
  return NextResponse.json(newTopic);
}
const embedding = [
  40.28394, 73.55061, 75.43632, 89.54864, 58.64211, 90.14852, 27.52364,
  67.34746, 39.52093, 22.37955, 70.14064, 97.92795, 99.35092, 11.75159,
  15.53438, 6.781, 34.87264, 94.81781, 5.48405, 86.04655, 16.74394, 96.44584,
  83.76105, 74.66896, 3.1571, 59.32254, 18.4809, 26.73744, 84.77481, 67.40337,
  82.94617, 3.02242, 55.50403, 69.78034, 28.2194, 44.87848, 45.75933, 31.81674,
  70.65251, 87.35663, 97.97849, 72.84107, 99.84896, 49.37765, 9.58849, 48.0956,
  21.87289, 77.26018, 82.88687, 84.57073, 89.51581, 53.16853, 53.33171,
  70.58494, 67.9543, 74.01554, 54.11792, 76.56816, 93.58588, 47.4332, 4.40411,
  66.40269, 36.46351, 75.12931, 62.47923, 91.43137, 3.22521, 56.93157, 8.58337,
  25.58192, 56.56886, 98.61084, 37.52987, 53.40402, 9.52667, 48.23414, 77.51102,
  72.30844, 80.1179, 46.33601, 86.96442, 95.26204, 76.66493, 78.05419, 36.33941,
  90.66723, 43.51878, 80.32065, 64.74875, 60.3981, 67.82303, 50.62373, 37.96881,
  74.02838, 25.43367, 70.91736, 94.89419, 57.22168, 79.46449, 78.62619,
  51.65384, 44.60033, 87.38029, 57.18681, 44.64725, 59.13774, 28.10731,
  23.77598, 27.64274, 69.60363, 67.45417, 99.83502, 56.09014, 71.31429, 5.81027,
  20.19045, 69.78709, 68.34976, 76.01492, 74.60577, 53.31391, 24.37538, 5.04791,
  2.39867, 8.26563, 3.32192, 35.94884, 92.23001, 17.5988, 37.16807, 46.13857,
  80.04989, 24.22217, 62.87919, 93.34829, 98.52338, 99.53469, 69.36839,
  29.66444, 81.40679, 52.18826, 55.53856, 35.25709, 72.67821, 45.69954,
  87.46605, 93.04653, 46.6564, 81.54972, 42.93068, 71.81222, 86.08379, 45.78746,
  14.91434, 38.26712, 33.09307, 64.57431, 12.11412, 58.87457, 78.55948, 8.38078,
  93.85391, 19.89078, 39.04323, 50.70382, 17.73876, 19.52994, 20.74415,
  39.06538, 17.54458, 13.42733, 87.57801, 50.48555, 8.3483, 86.06091, 33.36327,
  45.79173, 93.88923, 31.86766, 22.93612, 39.49571, 93.42818, 43.74752,
  29.92962, 32.83774, 15.91776, 84.99243, 7.35396, 46.39259, 92.17393, 95.52613,
  12.69434, 67.9054, 57.02186, 18.96612, 68.01404, 48.72323, 62.13325, 6.33572,
  53.17653, 44.97195, 70.50891, 98.60578, 87.57135, 99.68455, 84.94752,
  88.17824, 65.7982, 91.89409, 15.55697, 47.03355, 67.38518, 6.08908, 51.28178,
  68.55307, 12.3802, 13.26808, 91.60115, 44.88268, 51.48025, 18.10689, 42.30956,
  75.31476, 74.95153, 25.11916, 7.96319, 79.70285, 71.89205, 52.04394, 69.16687,
  50.9289, 19.52897, 40.74685, 19.58777, 41.79862, 31.96056, 43.10063, 1.95429,
  51.46096, 22.86866, 65.11018, 79.51776, 8.07847, 24.46375, 46.6871, 82.84155,
  85.50293, 25.2158, 48.14108, 63.58145, 33.91327, 34.88031, 60.26014, 96.34525,
  13.59277, 27.12364, 48.42847, 95.83852, 23.53118, 19.20842, 47.07268,
  23.44328, 81.47911, 41.78004, 1.34131, 81.8865, 23.71358, 36.17166, 13.82159,
  65.62104, 32.47421, 79.11833, 59.64854, 24.13148, 86.24438, 90.60825,
  73.16164, 60.76934, 96.06207, 20.45833, 52.64119, 90.05123, 55.75914,
  32.15987, 79.13504, 99.89357, 39.73866, 85.23723, 27.70934, 34.08019,
  34.01738, 14.76917, 28.10395, 52.82516, 26.64606, 16.93427, 39.93314,
  14.24968, 13.31828, 22.61413, 27.62292, 32.89819, 48.30381, 76.53154,
  48.78688, 53.17174, 70.67818, 50.88939, 79.03033, 38.76819, 43.88491,
  75.79955, 98.9049, 76.40567, 3.63705, 33.87599, 45.91043, 29.32277, 49.84236,
  3.03705, 70.83355, 59.58735, 74.36098, 61.25649, 46.45039, 93.1454, 7.29216,
  96.1423, 61.60551, 82.31353, 98.0661, 43.91353, 81.3367, 84.03932, 64.92397,
  10.1599, 96.97144, 26.09673, 62.31878, 43.15158, 74.37272, 20.61058, 35.73854,
  95.05978, 11.34603, 29.60591, 45.04694, 83.33882, 89.73399, 49.05723,
  36.10662, 24.42107, 43.57251, 68.32388, 29.27036, 32.05151, 64.36472,
  53.40692, 29.95834, 94.10944, 55.35966, 95.23907, 53.83008, 37.34205,
  42.76311, 43.8452, 24.81655, 82.74521, 69.94437, 84.38673, 21.88274, 79.60546,
  54.66076, 2.36567, 16.11579, 17.31081, 80.60725, 85.19485, 16.90916, 94.97735,
  27.86294, 83.052, 86.27624, 22.12809, 43.3566, 12.81884, 35.22569, 26.54589,
  55.52579, 12.13198, 61.67413, 80.84937, 23.45284, 10.02985, 95.84052,
  87.95602, 69.38928, 31.10597, 93.18193, 11.21833, 23.42122, 19.97139,
  44.92367, 91.87085, 91.09393, 49.24423, 34.52445, 48.99603, 25.43954,
  10.87785, 64.34859, 23.14491, 12.48569, 98.51523, 26.2936, 22.60166, 68.86722,
  22.6091, 46.78569, 97.12232, 74.85899, 67.57088, 84.18141, 38.32936, 3.01654,
  95.26799, 69.66187, 60.50821, 64.1078, 20.05187, 10.37598, 92.83615, 24.97364,
  7.32718, 28.99977, 98.30884, 32.19923, 54.88988, 86.64828, 3.06666, 79.33069,
  50.8431, 58.03282, 5.13963, 15.77597, 18.74474, 11.78828, 30.25595, 21.59426,
  5.79533, 24.73248, 45.75871, 79.18319, 39.5027, 79.88368, 28.71222, 1.20985,
  63.60316, 30.72166, 24.1075, 54.8211, 46.20216, 37.04754, 3.46322, 17.84638,
  32.55781, 77.02368, 59.74159, 3.70029, 83.30482, 19.9848, 59.96846, 29.17196,
  61.86016, 52.11293, 19.67942, 47.81097, 83.58836, 41.35893, 74.48992,
  86.19794, 35.53974, 72.12671, 20.50819, 56.78384, 5.97907, 47.14773, 90.49733,
  95.44362, 60.28294, 57.74947, 30.05948, 89.93597, 78.45809, 14.07286,
  73.26818, 30.12295, 67.92376, 10.61562, 77.67216, 61.91628, 63.24061,
  18.28493, 73.64798, 27.7419, 88.7427, 20.90197, 54.4692, 78.35348, 1.81491,
  2.12805, 74.70287, 11.04315, 5.72337, 47.81115, 96.74763, 77.70718, 17.98369,
  21.67369, 91.43289, 17.56241, 61.9442, 37.87369, 51.46838, 23.0754, 1.38241,
  73.87073, 69.69005, 42.42033, 95.92838, 80.88241, 61.96102, 52.96166,
  40.19548, 76.95204, 39.1114, 84.70954, 55.99393, 62.8397, 76.44456, 74.47703,
  10.90298, 76.97295, 14.75507, 89.33715, 63.38333, 50.07404, 1.18356, 66.90108,
  57.46413, 59.06542, 60.42199, 54.49948, 84.22979, 99.64449, 51.03709,
  53.48568, 78.48495, 62.08958, 65.46965, 38.01901, 49.56176, 29.05028,
  42.88337, 12.77515, 80.06734, 36.67438, 19.47854, 34.11952, 15.15838,
  68.99571, 81.37593, 38.74754, 33.6306, 91.46606, 59.36519, 23.72341, 9.32061,
  92.2555, 36.10704, 80.64493, 68.49978, 51.60358, 65.66667, 3.62234, 87.44711,
  74.34795, 81.89439, 62.39862, 8.62363, 15.84002, 77.26175, 40.46627, 23.72615,
  62.1567, 8.25884, 30.19623, 30.19501, 99.35793, 61.07518, 66.03403, 6.38217,
  87.95813, 7.65349, 31.10169, 4.00463, 40.18362, 44.25356, 85.475, 70.97714,
  13.28188, 11.78466, 80.86576, 74.90989, 58.00604, 41.99632, 67.17391,
  16.54414, 1.27774, 97.97861, 31.04698, 42.16466, 19.93283, 4.24935, 42.81432,
  69.82198, 29.2425, 23.24448, 79.6229, 34.36367, 68.30114, 4.50129, 64.95491,
  98.94925, 39.57575, 85.91127, 24.50215, 94.98814, 90.21298, 59.40968,
  80.90666, 72.03414, 71.36908, 25.9969, 48.42551, 80.24508, 33.35822, 14.1257,
  98.8702, 52.16976, 69.94013, 87.09665, 6.09628, 21.54149, 78.79877, 18.1696,
  94.85393, 79.98521, 69.78061, 27.51835, 28.30307, 2.94701, 83.5574, 73.94572,
  63.04071, 28.69701, 80.75708, 1.81408, 93.05831, 65.01733, 37.84136, 10.43302,
  22.42395, 31.89684, 50.04877, 38.50455, 14.52544, 15.69412, 97.08948, 3.82958,
  23.92989, 30.11515, 47.73057, 14.64962, 38.27981, 2.29889, 84.2633, 37.52428,
  43.23376, 40.30335, 51.25038, 27.41278, 88.72309, 69.02718, 64.76155,
  99.82475, 87.44137, 25.766, 13.67337, 89.37863, 56.79206, 41.85697, 39.29183,
  16.41185, 68.36291, 83.03238, 49.77038, 23.31273, 37.59225, 15.98428,
  17.52333, 11.7189, 30.09884, 26.77998, 90.79071, 70.15536, 86.68769, 78.7436,
  47.73534, 34.38365, 82.04467, 63.76426, 3.64049, 58.59715, 12.50132, 42.01786,
  77.65856, 93.33757, 87.20008, 72.63182, 19.30274, 6.16775, 85.46805, 93.04959,
  16.35475, 64.16307, 76.2388, 86.95394, 88.36067, 51.75183, 13.33763, 46.22499,
  95.05417, 92.96946, 54.94317, 99.83516, 78.75255, 36.08799, 91.40328,
  85.78631, 62.26024, 92.17424, 80.17877, 38.92246, 23.23125, 68.98367,
  62.99305, 87.75808, 7.90976, 79.73491, 15.43787, 15.21775, 73.7114, 72.97517,
  95.77352, 55.45826, 20.99458, 60.75213, 53.86465, 78.17998, 15.68734,
  37.74936, 42.92979, 10.47581, 40.39133, 31.50635, 8.79843, 56.10844, 3.99519,
  97.92258, 15.174, 19.36204, 46.03691, 51.62549, 18.06851, 17.87932, 45.60166,
  10.26345, 37.49768, 59.89056, 41.11513, 3.39673, 97.1124, 99.65337, 48.28687,
  83.47333, 29.91139, 70.50565, 68.02454, 20.70448, 87.87019, 75.67363,
  83.50218, 87.42842, 55.61586, 63.51397, 87.85789, 99.41482, 76.14731,
  30.22277, 35.22524, 82.02357, 96.36671, 7.33189, 17.1751, 74.55382, 98.74409,
  79.7945, 85.79488, 85.68198, 51.51486, 74.0538, 82.74646, 36.56605, 36.73905,
  10.70784, 27.53112, 64.07379, 50.34079, 14.59471, 90.46714, 20.65541,
  38.96506, 93.70701, 46.67709, 71.69201, 26.39259, 75.15018, 50.60566,
  65.12615, 42.77213, 3.41901, 5.11443, 35.64476, 37.91807, 67.28631, 47.35664,
  55.19444, 26.36291, 99.44101, 15.56927, 21.53584, 17.85757, 46.88997,
  52.13653, 53.2776, 7.92786, 39.96664, 47.72501, 63.80421, 69.95558, 55.01262,
  32.32944, 71.17185, 6.42018, 96.50781, 23.0879, 76.07345, 47.60311, 77.21216,
  32.8265, 88.33466, 55.5075, 75.2164, 41.28843, 30.27182, 3.48283, 62.15937,
  63.47207, 53.44986, 50.03109, 13.50272, 72.983, 71.86986, 80.27043, 48.60989,
  80.37002, 42.57677, 43.90238, 2.23174, 55.12638, 44.4558, 57.27805, 28.48517,
  80.81344, 9.68311, 11.29044, 59.34804, 84.34475, 25.29576, 48.95307, 77.7163,
  39.55646, 42.97059, 41.28093, 24.82489, 76.18884, 48.67623, 61.54023,
  64.91337, 53.97108, 75.30802, 16.11544, 23.15162, 44.89838, 86.35118, 5.55524,
  85.75433, 18.40298, 26.37815, 19.27425, 40.3142, 96.26707, 11.58294, 41.3576,
  54.63284, 5.64529, 36.71615, 99.29086, 38.72147, 37.84276, 2.52374, 32.68265,
  7.45956, 44.73888, 44.76888, 17.14924, 13.49839, 88.0189, 29.40797, 94.85324,
  61.03705, 60.13873, 91.38896, 61.74507, 61.04986, 36.37751, 53.74815,
  10.73929, 74.40117, 7.71281, 16.11529, 24.27898, 32.72072, 39.43774, 86.06023,
  31.1705, 14.08708, 63.52988, 19.35407, 86.02059, 28.879, 43.68273, 3.30618,
  19.76644, 78.99742, 25.10645, 64.93952, 80.39862, 59.20171, 28.19658,
  42.50916, 15.95052, 9.6754, 31.23024, 84.44201, 76.56427, 75.39846, 47.64732,
  41.40137, 40.01981, 3.45221, 2.09411, 16.53369, 53.20538, 98.05099, 17.86334,
  57.3385, 54.37253, 19.94777, 40.1606, 49.76321, 98.93232, 15.17564, 4.63001,
  68.5162, 83.99954, 71.88216, 38.82439, 79.96447, 82.44138, 97.92395, 81.77263,
  98.05153, 28.79514, 78.71612, 65.1121, 43.181, 1.38177, 22.33687, 82.92931,
  70.49865, 89.07751, 20.67485, 98.94711, 64.65485, 73.89647, 21.11331,
  33.79355, 78.43971, 33.97186, 44.38148, 94.69567, 60.28727, 62.23945,
  82.27554, 86.60731, 47.92108, 98.03345, 18.42299, 93.81918, 36.56843,
  24.78487, 15.89406, 99.67821, 24.29738, 32.35844, 73.84712, 49.61803,
  45.64624, 5.70391, 92.1933, 76.3622, 36.51461, 78.8809, 65.91615, 12.15629,
  49.06411, 75.72794, 72.83736, 19.2951, 84.81479, 38.95648, 9.80082, 46.18231,
  4.29267, 2.51942, 91.69967, 27.21154, 69.15084, 75.14766, 18.64611, 67.35907,
  1.02754, 42.7898, 86.7986, 72.41832, 44.24913, 62.0392, 41.18748, 48.21877,
  85.73513, 31.95735, 79.38576, 16.29878, 37.87879, 65.51755, 8.32058, 84.29898,
  98.52334, 30.07105, 21.33792, 37.07535, 58.61646, 80.17942, 79.8737, 78.34452,
  38.47588, 5.32083, 20.99381, 56.92802, 77.80949, 4.42967, 79.04742, 71.72971,
  94.52832, 39.0762, 71.61224, 12.20375, 21.14526, 2.72972, 85.74941, 59.98562,
  49.52507, 12.10134, 56.64895, 53.63347, 91.14788, 1.5403, 50.33746, 61.57519,
  76.17386, 87.07111, 31.47592, 9.56402, 65.66122, 48.63157, 87.19539, 87.95222,
  49.82292, 82.18949, 27.69104, 17.90211, 1.65484, 23.40043, 66.53194, 44.82252,
  4.5835, 51.80859, 99.79736, 38.10673, 39.9297, 88.38855, 63.22243, 22.89971,
  76.99171, 94.41996, 49.93138, 14.52823, 75.08055, 67.9653, 72.2803, 68.59492,
  85.94589, 4.48498, 92.82012, 97.79524, 55.72961, 33.22337, 22.60461, 14.02279,
  52.76531, 70.8746, 23.49393, 83.32206, 44.85535, 26.66512, 52.9862, 26.73129,
  43.7833, 1.51306, 75.23924, 44.40745, 19.26522, 66.15288, 33.83416, 52.85594,
  33.4614, 83.50703, 17.42207, 39.62688, 78.74982, 92.91763, 99.90568, 5.23695,
  13.55511, 5.86793, 24.90754, 64.78739, 94.38359, 40.4458, 62.91426, 75.45299,
  46.51816, 62.63954, 22.4901, 58.01557, 18.85719, 27.97375, 9.89176, 94.05265,
  3.43535, 22.69133, 85.42003, 38.21196, 89.98689, 91.33273, 74.47326, 38.02795,
  94.5405, 58.07878, 51.92734, 7.15792, 88.53463, 70.5815, 16.29317, 6.83998,
  15.65366, 67.61833, 85.36184, 22.89372, 80.51851, 45.71749, 24.28216,
  79.23706, 70.94957, 36.54218, 74.18521, 24.5413, 7.48917, 98.30198, 6.08478,
  71.57863, 56.11556, 33.43991, 63.3915, 29.85692, 35.91381, 18.23538, 28.58863,
  3.21248, 34.80046, 35.5799, 91.44453, 36.7478, 74.91624, 44.31039, 55.1016,
  77.62061, 18.19389, 63.85401, 61.0404, 12.55908, 68.80081, 65.47762, 3.57049,
  62.34338, 33.31865, 81.07349, 76.38205, 33.18927, 19.0853, 84.48471, 20.82094,
  11.31984, 61.11502, 60.56974, 60.78059, 73.69011, 92.704, 97.9303, 43.34054,
  75.65256, 78.82506, 46.72294, 56.79223, 91.91148, 80.0151, 21.45127, 56.27854,
  74.06112, 95.75503, 9.01142, 92.73001, 26.75051, 34.21253, 53.03375, 89.45632,
  28.2981, 33.34153, 2.40493, 46.86853, 22.54051, 21.52537, 55.80761, 66.28076,
  24.10413, 37.74941, 59.97687, 58.78303, 82.73079, 47.08659, 40.67711,
  31.22471, 1.80595, 60.76262, 36.05918, 34.04309, 36.5417, 95.13285, 75.95704,
  91.52872, 31.37713, 14.92838, 61.85414, 89.56502, 44.64921, 26.62405,
  57.66068, 41.96768, 47.89307, 1.74403, 6.27386, 83.80655, 72.99941, 95.53129,
  64.14079, 26.67444, 65.3968, 84.18909, 17.75748, 86.61554, 18.16061, 8.18163,
  19.60866, 57.60519, 48.73007, 67.1074, 58.63023, 97.38401, 2.0658, 93.8528,
  90.71079, 78.8014, 75.69183, 99.99556, 48.92635, 35.3594, 57.67027, 54.69036,
  66.54364, 80.75656, 96.57235, 75.77938, 15.31381, 79.05354, 37.21211,
  73.13163, 50.36202, 84.08479, 50.61923, 75.53657, 31.7508, 15.54256, 90.22867,
  56.59387, 83.88024, 67.60406, 42.41844, 96.23748, 65.33732, 95.21916,
  30.01148, 72.85294, 49.8695, 20.49757, 70.798, 27.43156, 35.44126, 38.72766,
  52.25512, 46.57514, 59.91757, 59.58485, 17.97391, 29.14986, 21.11316,
  83.80587, 24.60922, 16.44792, 35.61919, 22.8291, 73.05951, 52.55715, 91.05619,
  72.49879, 38.43366, 95.40505, 10.5925, 33.09464, 26.96632, 56.72029, 10.27818,
  14.9506, 61.73479, 27.56488, 23.91992, 13.98768, 59.21951, 89.04445, 16.88625,
  86.02979, 28.21552, 30.0352, 14.66274, 8.32386, 60.19725, 20.96558, 49.65301,
  16.31982, 78.55824, 26.81158, 74.83614, 9.90679, 70.63412, 55.96554, 11.03805,
  84.32271, 80.53607, 62.85675, 38.50609, 14.90356, 4.71007, 46.53403, 73.84611,
  96.62613, 10.68839, 73.49167, 18.36643, 48.56259, 79.70999, 93.46119,
  15.93328, 75.59587, 97.3539, 86.93722, 10.73252, 50.81897, 4.27929, 12.7984,
  34.23643, 30.80131, 18.89708, 3.67285, 18.28078, 24.2654, 94.07701, 56.52048,
  43.18503, 72.99054, 48.10749, 90.02491, 83.02106, 80.33577, 52.6411, 28.01879,
  79.88728, 31.39925, 76.02408, 37.48803, 12.92722, 19.86198, 76.57396, 1.73374,
  29.35455, 10.63487, 73.77913, 43.94684, 31.5531, 82.25982, 32.19107, 34.32597,
  37.66168, 65.26722, 18.82811, 61.1335, 17.75697, 33.79821, 21.71279, 91.5281,
  16.38875, 12.34114, 89.09653, 47.9153, 6.76266, 43.35305, 88.07913, 73.53926,
  72.12384, 10.47514, 1.6053, 19.86131, 9.41912, 7.15808, 50.93886, 7.71375,
  16.38326, 44.18146, 62.3719, 74.86719, 52.61314, 72.97813, 5.54292, 14.08896,
  41.45916, 23.05996, 81.55487, 4.03216, 71.87725, 55.88494, 13.47889, 79.47235,
  41.14756, 39.28191, 76.86058, 3.18252, 87.27179, 95.58651, 19.72147, 82.45891,
  57.70829, 65.6243, 29.36392, 53.83185, 69.4585, 96.61595, 1.44262, 83.96465,
  15.28404, 48.12759, 59.46749, 60.2705, 62.09996, 80.26624, 68.51045, 45.5442,
];
